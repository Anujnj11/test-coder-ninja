"use strict";(self.webpackChunkninja_coder_app=self.webpackChunkninja_coder_app||[]).push([[236],{1236:(Q,C,a)=>{a.r(C),a.d(C,{InterviewModule:()=>B});var c=a(6895),g=a(5263);function b(o,s,e,t,i,r,d){try{var l=o[r](d),u=l.value}catch(Z){return void e(Z)}l.done?s(u):Promise.resolve(u).then(t,i)}function h(o){return function(){var s=this,e=arguments;return new Promise(function(t,i){var r=o.apply(s,e);function d(u){b(r,t,i,d,l,"next",u)}function l(u){b(r,t,i,d,l,"throw",u)}d(void 0)})}}const v=[{language:"javascript",version:"16.3.0",aliases:["node-javascript","node-js","javascript","js"],runtime:"node"},{language:"dart",version:"2.12.1",aliases:[]},{language:"csharp.net",editorLang:"csharp",version:"5.0.201",aliases:["csharp","c#","cs","c#.net","cs.net","c#-dotnet","cs-dotnet","csharp-dotnet","dotnet-c#","dotnet-cs","dotnet-csharp"],runtime:"dotnet"},{language:"go",version:"1.16.2",aliases:["go","golang"]},{language:"java",version:"15.0.2",aliases:[]},{language:"kotlin",version:"1.4.31",aliases:["kt"]},{language:"csharp",editorLang:"csharp",version:"6.12.0",aliases:["mono","mono-csharp","mono-c#","mono-cs","c#","cs"],runtime:"mono"},{language:"php",version:"8.2.3",aliases:["php8","html"]},{language:"python2",version:"2.7.18",aliases:["py2","python2"]},{language:"python",version:"3.10.0",aliases:["py","py3","python3","python3.10"]},{language:"ruby",version:"3.0.1",aliases:["ruby3","rb"]},{language:"rust",version:"1.65.0",aliases:["rs"]},{language:"scala",version:"3.0.0",aliases:["sc"]},{language:"sqlite3",editorLang:"sql",version:"3.36.0",aliases:["sqlite","sql"]},{language:"swift",version:"5.3.3",aliases:["swift"]},{language:"typescript",version:"4.2.3",aliases:["ts","node-ts","tsc"]}],S={theme:"vs-dark",language:v[0].language,automaticLayout:!0,fontSize:16,zoom:.56},p_Events_CodeChange="CODE-CHANGE-",p_Events_UpdateSelection="UPDATE-SELECTION-",p_Events_SetCodeType="SET-CODE-TYPE-";var n=a(4650),f=a(3458),m=a(433),N=a(4968);const E=["editorContainer"],_=new n.OlP("NGX_MONACO_EDITOR_CONFIG");let y,M=!1,w=(()=>{class o{constructor(e){this.config=e,this.onInit=new n.vpe,this._insideNg=!1}set insideNg(e){this._insideNg=e,this._editor&&(this._editor.dispose(),this.initMonaco(this._options,this.insideNg))}get insideNg(){return this._insideNg}ngAfterViewInit(){M?y.then(()=>{this.initMonaco(this._options,this.insideNg)}):(M=!0,y=new Promise(e=>{const t=this.config.baseUrl||"./assets";if("object"==typeof window.monaco)return this.initMonaco(this._options,this.insideNg),void e();const i=()=>{window.require.config({paths:{vs:`${t}/monaco/min/vs`}}),window.require(["vs/editor/editor.main"],()=>{"function"==typeof this.config.onMonacoLoad&&this.config.onMonacoLoad(),this.initMonaco(this._options,this.insideNg),e()})};if(window.require)i();else{const r=document.createElement("script");r.type="text/javascript",r.src=`${t}/monaco/min/vs/loader.js`,r.addEventListener("load",i),document.body.appendChild(r)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(_))},o.\u0275cmp=n.Xpm({type:o,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&n.Gf(E,7),2&e){let i;n.iGM(i=n.CRH())&&(t._editorContainer=i.first)}},inputs:{insideNg:"insideNg"},outputs:{onInit:"onInit"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),o})(),I=(()=>{class o extends w{constructor(e,t){super(t),this.zone=e,this.editorConfig=t,this._value="",this.propagateChange=i=>{},this.onTouched=()=>{}}set options(e){this._options=Object.assign({},this.config.defaultOptions,e),this._editor&&(this._editor.dispose(),this.initMonaco(e,this.insideNg))}get options(){return this._options}set model(e){this.options.model=e,this._editor&&(this._editor.dispose(),this.initMonaco(this.options,this.insideNg))}writeValue(e){this._value=e||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){this.onTouched=e}initMonaco(e,t){const i=!!e.model;if(i){const r=monaco.editor.getModel(e.model.uri||"");r?(e.model=r,e.model.setValue(this._value)):e.model=monaco.editor.createModel(e.model.value,e.model.language,e.model.uri)}t?this._editor=monaco.editor.create(this._editorContainer.nativeElement,e):this.zone.runOutsideAngular(()=>{this._editor=monaco.editor.create(this._editorContainer.nativeElement,e)}),i||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(r=>{const d=this._editor.getValue();this.zone.run(()=>{this.propagateChange(d),this._value=d})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=(0,N.R)(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(n.R0b),n.Y36(_))},o.\u0275cmp=n.Xpm({type:o,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},features:[n._Bn([{provide:m.JU,useExisting:(0,n.Gpc)(()=>o),multi:!0}]),n.qOj],decls:2,vars:0,consts:[[1,"editor-container"],["editorContainer",""]],template:function(e,t){1&e&&n._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:block;height:200px}.editor-container[_ngcontent-%COMP%]{width:100%;height:98%}"]}),o})(),O=(()=>{class o{static forRoot(e={}){return{ngModule:o,providers:[{provide:_,useValue:e}]}}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[c.ez]}),o})();var D=a(1102),P=a(3679),T=a(6616),L=a(7044),x=a(1664),R=a(6903),U=a(1971),z=a(56);const A=["monacoEditor"];function J(o,s){if(1&o&&(n._UZ(0,"nz-option",14),n.ALo(1,"uppercase")),2&o){const e=s.$implicit,t=s.index;n.s9C("nzLabel",n.lcZ(1,2,null==e?null:e.language)),n.s9C("nzValue",t)}}function j(o,s){if(1&o&&(n.TgZ(0,"p",15)(1,"span",16),n._uU(2,"---RESET---"),n.qZA(),n._uU(3),n.qZA()),2&o){const e=s.$implicit;n.MGl("ngClass","",null!=e&&e.stderr?"danger":"success"," "),n.xp6(3),n.hij(" ",(null==e?null:e.stderr)||(null==e?null:e.output)," ")}}const F=[{path:"",children:[{path:"",component:(()=>{class o{constructor(e,t,i,r){this.commonService=e,this.interviewService=t,this.aRouter=i,this.router=r,this.editorOptions=S,this.executedCodes=[],this.supportedLanguages=v,this.CODE_CHANGE="",this.code="",this.runningCode=!1,this.containerId="",this.preferredLanguage="0"}ngOnInit(){this.aRouter.queryParamMap.subscribe(e=>{this.containerId=e.get("editorId")||this.commonService.getUniqueId(5)})}ngAfterViewInit(){this.router.navigate([],{relativeTo:this.aRouter,queryParams:{editorId:this.containerId}}),this.preferredLanguageInfo=this.supportedLanguages[0],this.initPubNub()}initPubNub(){this.PubNubDataStore={UserId:this.commonService.getUniqueId(5),UserColor:"#434534",ContainerId:this.containerId,CodeChange:`${p_Events_CodeChange}${this.containerId}`,UpdateSelection:`${p_Events_UpdateSelection}${this.containerId}`,SetCodeType:`${p_Events_SetCodeType}${this.containerId}`},this.pubNubInstance=new PubNub({publishKey:"pub-c-17cc7797-8ba3-4d73-8f4a-44761d3f8064",subscribeKey:"sub-c-5dfc70dc-82d8-11ec-9f2b-a2cedba671e8",userId:this.PubNubDataStore?.UserId}),this.pubNubInstance.addListener({status:t=>{"PNConnectedCategory"===t.category&&console.log("Connected")},message:t=>{switch(console.log("Incoming request for ",t?.channel),t?.channel){case this.PubNubDataStore?.CodeChange:this.updateCode(t);break;case this.PubNubDataStore?.UpdateSelection:this.setSelection(t);break;case this.PubNubDataStore?.SetCodeType:this.setEditorLang(t)}},presence:t=>{}}),this.pubNubInstance.subscribe({channels:[this.PubNubDataStore?.CodeChange,this.PubNubDataStore?.UpdateSelection,this.PubNubDataStore?.SetCodeType]})}onCodeChange(){var e=this;return h(function*(){e.code&&(yield e.pubNubInstance.publish({channel:e.PubNubDataStore?.CodeChange,message:e.code,sendByPost:!0}))})()}updateSelection(){var e=this;return h(function*(){if(e.code){let t=e.monacoEditor?._editor?.getModel();t&&t?.getValueInRange(e.monacoEditor?._editor?.getSelection())&&(yield e.pubNubInstance.publish({channel:e.PubNubDataStore?.UpdateSelection,message:e.monacoEditor?._editor?.getSelection()}),console.log("Firing for ",e.PubNubDataStore?.UpdateSelection))}})()}updateCode(e){e?.publisher!=this.PubNubDataStore?.UserId&&(console.log("isSame as publisher",e?.publisher==this.PubNubDataStore?.UserId),this.code=e?.message)}setSelection(e){e?.publisher!=this.PubNubDataStore?.UserId&&(this.setSelection=e?.message,this.monacoEditor?._editor?.getModel()&&this.monacoEditor?._editor?.setSelection(this.setSelection))}setEditorLang(e){this.preferredLanguageInfo=this.supportedLanguages[e?.message];const t=this.preferredLanguageInfo?.editorLang||this.preferredLanguageInfo?.language;let i=this.monacoEditor?._editor?.getModel();i&&monaco.editor.setModelLanguage(i,t)}runCode(){const e={language:this.preferredLanguageInfo?.language,version:this.preferredLanguageInfo?.version,files:[{content:this.code}]};this.runningCode=!this.runningCode,this.interviewService.executeCode(e).subscribe(t=>{this.runningCode=!this.runningCode,this.executedCodes.push(t.run)})}updateCodeType(e){var t=this;return h(function*(){yield t.pubNubInstance.publish({channel:t.PubNubDataStore?.SetCodeType,message:e,sendByPost:!0})})()}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(f.v_),n.Y36(f.nm),n.Y36(g.gz),n.Y36(g.F0))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-panel-pubnub"]],viewQuery:function(e,t){if(1&e&&n.Gf(A,5),2&e){let i;n.iGM(i=n.CRH())&&(t.monacoEditor=i.first)}},decls:20,vars:11,consts:[["nz-row","","nzJustify","center","nzAlign","middle",1,"inner-content"],["nz-col","",3,"nzSpan"],["nz-row","","nzJustify","center"],[3,"nzSize","nzDirection"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select language",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-row","","nzJustify","center",2,"height","100vh"],[2,"height","100%",3,"options","ngModel","mouseup","keyup","ngModelChange"],["monacoEditor",""],[1,"code-output"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"run-code"],["nz-button","","nzType","primary",3,"nzLoading","click"],["nz-icon","","nzType","right-circle"],[3,"nzLabel","nzValue"],[3,"ngClass"],[1,"reset"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"nz-space",3)(4,"nz-select",4),n.NdJ("ngModelChange",function(r){return t.updateCodeType(r)})("ngModelChange",function(r){return t.preferredLanguage=r}),n.YNc(5,J,2,4,"nz-option",5),n.qZA()()(),n.TgZ(6,"nz-card")(7,"div",6)(8,"div",1)(9,"ngx-monaco-editor",7,8),n.NdJ("mouseup",function(){return t.updateSelection()})("keyup",function(){return t.onCodeChange()})("ngModelChange",function(r){return t.code=r}),n.qZA()(),n.TgZ(11,"div",1)(12,"div",9)(13,"pre"),n._uU(14,'Welcome to the Ninja Coder Playground \u{1f44b}\n\nReady! Get started by editing the code on the\nleft side of the screen and clicking "Run code"\n                        '),n.qZA(),n.YNc(15,j,4,2,"p",10),n.qZA()(),n.TgZ(16,"div",11)(17,"button",12),n.NdJ("click",function(){return t.runCode()}),n._UZ(18,"span",13),n._uU(19," Run code! "),n.qZA()()()()()()),2&e&&(n.xp6(1),n.Q6J("nzSpan",24),n.xp6(2),n.Q6J("nzSize","small")("nzDirection","vertical"),n.xp6(1),n.Q6J("ngModel",t.preferredLanguage),n.xp6(1),n.Q6J("ngForOf",t.supportedLanguages),n.xp6(3),n.Q6J("nzSpan",15),n.xp6(1),n.Q6J("options",t.editorOptions)("ngModel",t.code),n.xp6(2),n.Q6J("nzSpan",9),n.xp6(4),n.Q6J("ngForOf",null==t.executedCodes?null:t.executedCodes.reverse()),n.xp6(2),n.Q6J("nzLoading",t.runningCode))},dependencies:[c.mk,c.sg,I,m.JJ,m.On,D.Ls,P.t3,P.SK,T.ix,L.w,x.dQ,R.NU,U.bd,z.Ip,z.Vq,c.gd],styles:[".inner-content[_ngcontent-%COMP%]{margin:5px}.inner-content[_ngcontent-%COMP%]   .code-output[_ngcontent-%COMP%]{background-color:#000;color:#fff;padding:10px;overflow-y:auto;margin:0;cursor:text;height:100vh;font-size:16px;overflow:auto}.inner-content[_ngcontent-%COMP%]   .run-code[_ngcontent-%COMP%]{position:absolute;bottom:10%;right:40%}.inner-content[_ngcontent-%COMP%]   .run-code[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#000000de;background-color:#00bcb4;border-color:transparent}.inner-content[_ngcontent-%COMP%]   nz-select[_ngcontent-%COMP%]{width:200px;margin:10px}.inner-content[_ngcontent-%COMP%]   .danger[_ngcontent-%COMP%]{color:#ef233c}.inner-content[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#02c39a}.inner-content[_ngcontent-%COMP%]   .reset[_ngcontent-%COMP%]{font-size:14px;color:#5f6570;display:block}"]}),o})()}]}];let G=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[g.Bz.forChild(F),g.Bz]}),o})(),B=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[c.ez,G,O.forRoot(),f.m8]}),o})()}}]);